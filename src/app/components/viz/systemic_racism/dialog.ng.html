<div class="dialog-container">
  <h1 mat-dialog-title>
    {{data.events[blockIndex].details.title}}
    <span *ngIf="data.events[blockIndex].details.year > 1">
    {{data.events[blockIndex].details.year}}</span></h1>
  <div mat-dialog-content>
    <p>{{data.events[blockIndex].details.body}}</p>
  </div>
  <div mat-dialog-actions>
    <div class="citations-container">
      <ng-container
	*ngFor="let citation of data.events[blockIndex].details.citations;
		let i = index">
	<span fxHide.lt-md>
	  {{citation.source}}:&nbsp;<a [href]="citation.link"
				       target="_blank">{{citation.name}}</a>
	  <span class="separator"
		*ngIf="i < data.events[blockIndex].details.citations.length - 1">,&nbsp;</span>
	</span>
	<span fxHide.gt-sm>
	  <span *ngIf="i===0">Citations:&nbsp;</span>
	  <a [href]="citation.link"
	     target="_blank">{{i+1}}</a>
	  <span class="separator"
		*ngIf="i < data.events[blockIndex].details.citations.length - 1">,&nbsp;</span>
	</span>
      </ng-container>
    </div>
    <div class="button-container">
      <button
	mat-button
	[disabled]="blockIndex === 0"
	(click)="onPrevious()">Previous</button>
      <button
	mat-button
	[disabled]="blockIndex === data.events.length - 1 ||
		    blockIndex === data.totalBlocks - 1"
	(click)="onNext()">Next</button>
      <button mat-button fxHide.lt-md (click)="onClose()">Close</button>
    </div>
  </div>
</div>
